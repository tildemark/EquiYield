(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[199],{220:(e,t,a)=>{"use strict";function s(){{let e=window.location.hostname;return"http://".concat(e,":4000")}}a.d(t,{h:()=>s})},3019:(e,t,a)=>{Promise.resolve().then(a.bind(a,9477))},7541:(e,t,a)=>{"use strict";var s=a(3041);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},9477:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var s=a(4568),n=a(7620),r=a(7541),l=a(220);function i(){let e=(0,r.useRouter)(),[t,a]=(0,n.useState)(""),[i,u]=(0,n.useState)(""),[o,c]=(0,n.useState)(""),[m,d]=(0,n.useState)(!1),h=async a=>{a.preventDefault(),c(""),d(!0);try{let a=(0,l.h)(),s=await fetch("".concat(a,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:i})}),n=await s.json();if(!s.ok)throw Error(n.error||"Login failed");localStorage.setItem("eq_member_token",n.token),localStorage.setItem("eq_member_name",n.user.full_name||""),e.push("/member/dashboard")}catch(e){c(e.message)}finally{d(!1)}};return(0,s.jsxs)("div",{className:"mx-auto max-w-md p-6",children:[(0,s.jsx)("div",{className:"flex justify-center mb-6",children:(0,s.jsx)("img",{src:"/equiyield-logo.webp",alt:"EquiYield",className:"w-24 h-24"})}),(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Member Login"}),(0,s.jsxs)("form",{className:"space-y-3",onSubmit:h,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Email"}),(0,s.jsx)("input",{className:"input",type:"email",value:t,onChange:e=>a(e.target.value),required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"label",children:"Password"}),(0,s.jsx)("input",{className:"input",type:"password",value:i,onChange:e=>u(e.target.value),required:!0})]}),o&&(0,s.jsx)("div",{className:"text-sm text-red-400",children:o}),(0,s.jsx)("button",{className:"btn btn-primary",type:"submit",disabled:m,children:m?"Signing inâ€¦":"Sign In"})]})]})}}},e=>{e.O(0,[587,18,358],()=>e(e.s=3019)),_N_E=e.O()}]);